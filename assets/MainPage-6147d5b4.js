var Qe=Object.defineProperty;var Ye=(E,o,F)=>o in E?Qe(E,o,{enumerable:!0,configurable:!0,writable:!0,value:F}):E[o]=F;var fe=(E,o,F)=>(Ye(E,typeof o!="symbol"?o+"":o,F),F);import{Q as Xe}from"./QBtn-9cdcaf55.js";import{u as _e,t as Ce,s as Ze,p as Je,a as et,b as tt,Q as ot}from"./directives-854a6078.js";import{M as Ee,S as $e,u as Me,T as ue,a as ke,C as nt}from"./CircularView-2dbccc19.js";import{E as pe,r as c,c as t,o as ge,w as te,b as Pe,J as S,R as G,M as re,N as _,S as ae,U as ie,V as Fe,W as He,X as Oe,K as ve,Y as Re,Z as We,F as Ne,_ as we,a as Ie,O as f,Q as de,$ as De,a0 as le,k as Ke,a1 as qe,a2 as Ue,a3 as rt,a4 as st,a5 as at,a6 as it,a7 as lt,a8 as ut,a9 as ct,L as dt}from"./index-c8ee24e8.js";import{_ as je}from"./_plugin-vue_export-helper-c27b6911.js";import"./QSpinner-f47d5aaa.js";const pt=["onClick","onMouseenter"],ht=["cx","cy"],ft=["x","y"],vt=pe({__name:"DAG",props:{nodes:{},selectedNode:{},hoveredNode:{}},emits:["selectedNode","hoveredNode"],setup(E,{expose:o,emit:F}){const O=c(null),v=c(null);function A(){O.value&&(v.value=O.value.getBBox(),console.log("BBox",v.value))}const x=F,n=E,W=t(()=>new Fe(n.nodes)),s=c([]),y=t(()=>{const h=new Map;for(const[u,i]of s.value.entries())for(const[p,l]of i.entries())h.set(l.node.key,[p,u]);return h}),K=t(()=>W.value.nodes.map(h=>new He(h,W.value))),r=t(()=>new Oe(K.value)),T=c(150),H=c(100);ge(()=>{console.log("Mounted DAG"),te(()=>n.nodes,()=>{I()},{immediate:!0})});function L(h){h!==null&&x("selectedNode",h.node.key)}function N(h){if(h===null){x("hoveredNode",null);return}x("hoveredNode",h.node.key)}function m(h){var i,p,l;const u=["node"];if(h.node.key==n.selectedNode)u.push("node-selected");else if(h.node.key==n.hoveredNode)u.push("node-hovered");else if(W.value.nodeMap.has((i=n.hoveredNode)!=null?i:"")){const k=h.predecessorNodes,M=h.successorNodes;new Set((p=k==null?void 0:k.concat(M!=null?M:[]).map(B=>B.key))!=null?p:[]).has((l=n.hoveredNode)!=null?l:"")&&u.push("node-hovered-adjacent")}return u.join(" ")}function I(){if(K.value.length===0){console.log("No nodes");return}let u=K.value.map(p=>{const l=p.sourceScorePubSub;return{node:p,name:p.node.key,score:l,scorePubSub:p.sourceScorePubSub}}).sort((p,l)=>l.scorePubSub-p.scorePubSub);console.log("DAG: Sorted nodes",u),console.log("DAG: Topological gens",r.value.getTopologicalGenerations(u[1].node));const i=[];for(;u.length>0;){const p=u[0].node,l=r.value.getTopologicalSorting(p);i.push(l),u=u.filter(k=>!l.includes(k.node)),console.log("NEW Nodes",l,u)}console.log("Connected nodes",i),s.value=i,Pe(()=>{A()})}const P=t(()=>{const h=[];for(const[u,i]of s.value.entries())for(const[p,l]of i.entries()){const k=l.nodesPublishedTo,M=l.nodesClientsConnectedTo;k.forEach(R=>{const B={x:p*H.value,y:u*T.value},U={x:y.value.get(R.key)[0]*H.value,y:y.value.get(R.key)[1]*T.value},X=-Math.abs(B.x-U.x)/3;B.x,B.y+X,U.x,U.y+X;const j={x:(B.x+U.x)/2,y:B.y+X};h.push({points:[B,j,U],width:2,startNode:l.node,endNode:R,type:"PubSub"})}),M.forEach(R=>{const B={x:p*H.value,y:u*T.value},U={x:y.value.get(R.key)[0]*H.value,y:y.value.get(R.key)[1]*T.value},X=Math.abs(B.x-U.x)/2;B.x,B.y+X,U.x,U.y+X;const j={x:(B.x+U.x)/2,y:B.y+X};h.push({points:[B,j,U],width:.5,startNode:l.node,endNode:R,type:"Service"})})}return console.log("Lines",h),h});function q(h){const u=["line"];h.type==="PubSub"?u.push("line-pubsub"):u.push("line-service");let i=n.selectedNode!==void 0||n.hoveredNode!==void 0;return(n.selectedNode===h.startNode.key||n.selectedNode===h.endNode.key)&&(u.push("line-selected"),i=!1),(n.hoveredNode===h.startNode.key||n.hoveredNode===h.endNode.key)&&(u.push("line-hovered"),i=!1),i&&u.push("line-smaller"),u.join(" ")}return o({bBox:v}),(h,u)=>(S(),G("g",{ref_key:"refGRoot",ref:O},[re(Ee,{"marker-type":"arrow",align:"end"}),_("g",null,[(S(!0),G(ae,null,ie(P.value,i=>(S(),ve($e,{points:i.points,"curve-style":"basis","marker-end":"arrow","marker-mid":"arrow1","style-class":q(i)},null,8,["points","style-class"]))),256))]),(S(!0),G(ae,null,ie(s.value,(i,p)=>(S(),G("g",null,[(S(!0),G(ae,null,ie(i,(l,k)=>(S(),G("g",{onClick:M=>L(l),onMouseenter:M=>N(l),onMouseleave:u[0]||(u[0]=M=>N(null))},[_("circle",{cx:k*H.value,cy:p*T.value,r:"10",class:Re(m(l))},null,10,ht),_("text",{x:k*H.value,y:k%2*20+25+p*T.value,fill:"white","text-anchor":"middle"},We(l.node.name),9,ft)],40,pt))),256))]))),256))],512))}});const gt=je(vt,[["__scopeId","data-v-d333e496"]]);class oe{}fe(oe,"isLeft",o=>o.startsWith("left")),fe(oe,"isRight",o=>o.startsWith("right")),fe(oe,"isMiddle",o=>o.startsWith("middle")),fe(oe,"isTop",o=>o.endsWith("top")),fe(oe,"isBottom",o=>o.endsWith("bottom")),fe(oe,"isCenter",o=>o.endsWith("center"));const mt=["transform"],yt=["transform"],bt=["transform"],xt=["x","y","width","height"],Nt=["text-anchor","dominant-baseline","x","y","textLength","font-size"],wt=_("circle",{cx:"0",cy:"0",r:"1",fill:"orange",opacity:"0"},null,-1),Ge=pe({__name:"SvgRosTopic",props:{nodeKey:{default:""},nodeType:{default:"none"},topic:{},side:{default:"left"},prefix:{default:""},textVisible:{type:Boolean,default:!0},width:{},height:{},bgFill:{default:"var(--q-detailed-node-bg)"},bgStroke:{default:"var(--q-detailed-node-stroke)"},bgStrokeOpacity:{default:"var(--q-detailed-node-stroke-opacity)"},bgFillOpacity:{default:.5},bgRx:{default:2},bgRy:{default:2},bgStrokeWidth:{default:.5},mt:{default:2},mb:{default:2},ml:{default:5},mr:{default:5},fontSize:{},contentOrientation:{default:"leftcenter"},anchor:{default:"center"},innerTransform:{},parentTransformation:{},anchorMappingPrefix:{default:""}},emits:["updatedSize"],setup(E,{expose:o,emit:F}){const O=Ne(),v=Me(),A=c(null),x=c(null),n=c(null),W=c(null);c(!0);const s=E,y=t(()=>({x:-s.width/2,y:-s.height/2,width:s.width,height:s.height})),K=t(()=>oe.isLeft(s.contentOrientation)?"start":oe.isRight(s.contentOrientation)?"end":"middle"),r=t(()=>oe.isTop(s.contentOrientation)?"hanging":oe.isBottom(s.contentOrientation)?"auto":"central"),T=t(()=>oe.isLeft(s.contentOrientation)?y.value.x+s.ml:oe.isRight(s.contentOrientation)?y.value.x+s.width-s.mr:y.value.x+s.width/2),H=t(()=>oe.isTop(s.contentOrientation)?y.value.y+s.mt:oe.isBottom(s.contentOrientation)?y.value.y+s.height-s.mb:y.value.y+s.height/2),L=_e(y,"center"),N=t(()=>Ce(y.value,[L.value])),m=_e(N,t(()=>s.anchor)),I=t(()=>(console.log("### calc outerBBox",s.minWidth),Ce(N.value,[s.innerTransform]))),P=c(0);function q(){Pe(()=>{const V=W.value;if(!V)return;const g=V.getComputedTextLength(),w=s.mr+s.ml;g>=s.width-w?P.value=s.width-w:P.value=0})}const h=t(()=>new ue(t(()=>s.innerTransform),s.parentTransformation)),u=t(()=>new ue(m,h.value)),i=t(()=>new ue(L,u.value)),p=t(()=>s.prefix.length>0?"..."+s.topic.name.slice(s.prefix.length):s.topic.name);ge(()=>{v.updateTopicAnchor(s.nodeKey,s.topic.name,X.value,s.anchorMappingPrefix,s.side),te([()=>s.width,()=>s.topic.name,()=>s.textVisible],()=>{q()},{immediate:!0})}),we(()=>{v.updateTopicAnchor(s.nodeKey,s.topic.name,X.value,s.anchorMappingPrefix,s.side)}),Ie(()=>{v.removeTopicAnchor(s.nodeKey,s.topic.name,s.anchorMappingPrefix,s.side)}),t(()=>"topic/"+s.nodeKey+"/"+s.topic.name);const l=t(()=>({x:y.value.x,y:y.value.y+y.value.height/2})),k=t(()=>({x:y.value.x+y.value.width,y:y.value.y+y.value.height/2}));function M(V){return t(()=>({x:l.value.x-1,y:l.value.y}))}function R(V){return t(()=>({x:k.value.x+1,y:k.value.y}))}const B=t(()=>ke({local:l,transformation:i.value,directionSelection:M})),U=t(()=>ke({local:k,transformation:i.value,directionSelection:R})),X=t(()=>s.side==="left"?B.value:U.value),j=t(()=>{const V="topic-"+s.topic.type.toLowerCase(),g=O.isSelectedTopic(s.topic.name,null);return g!==null?g?V+" selected":V+" deselected":V});return o({bBox:I}),(V,g)=>{var w,z;return S(),G("g",{ref_key:"refRoot",ref:x},[_("g",{transform:(w=V.innerTransform)!=null?w:"",ref_key:"refInnerTransform",ref:n},[_("g",{transform:f(m),ref:"refAnchorTransform"},[_("g",{transform:f(L),class:Re(j.value)},[_("rect",{x:y.value.x,y:y.value.y,width:V.width,height:V.height},null,8,xt),_("g",{ref_key:"refGContent",ref:A},[V.textVisible?(S(),G("text",{key:0,ref_key:"refText",ref:W,"text-anchor":K.value,"dominant-baseline":r.value,x:T.value,y:H.value,textLength:P.value>0?P.value:void 0,lengthAdjust:"spacingAndGlyphs","font-size":(z=V.fontSize)!=null?z:""},We(p.value),9,Nt)):de("",!0)],512)],10,bt)],8,yt)],8,mt),wt],512)}}}),St=["transform"],kt=["transform"],_t=["x","y","width","height"],Ct=_("circle",{cx:"0",cy:"0",r:"3",fill:"red",opacity:"0"},null,-1),Tt=pe({__name:"SvgRosTopicSubGroup",props:{nodeKey:{},nodeType:{default:"none"},topicGroup:{},topicSubgroup:{},topicsSpacing:{default:2},topicsMl:{default:15},topicsMr:{default:0},topicsMt:{default:5},topicsMb:{default:0},width:{},topicHeight:{default:16},orientation:{default:"right"},bgFill:{default:"var(--q-detailed-node-bg)"},bgStroke:{default:"var(--q-detailed-node-stroke)"},bgFillOpacity:{default:.5},bgRx:{default:5},bgRy:{default:5},bgStrokeWidth:{default:1},mt:{default:5},mb:{default:5},ml:{default:5},mr:{default:5},contentAlign:{default:"rightcenter"},anchor:{default:"center"},innerTransform:{},parentTransformation:{}},emits:["updatedSize"],setup(E,{expose:o,emit:F}){const O=c(null),v=c(null),A=c(null),x=Ne(),n=E,W=t(()=>{var M;x.selectedNode;const u=x.selectedSecondaryNode;if(!u||x.visibleSubgroups.has(n.topicSubgroup.prefix))return!0;const i=n.orientation=="left"?["Publishers","Clients"]:["Subscribers","Services"],p=u==null?void 0:u.topics.filter(R=>{if(i.includes(R.type))return!0}),l=(M=p==null?void 0:p.map(R=>R.name))!=null?M:[];return!!n.topicSubgroup.topics.map(R=>R.name).some(R=>l.includes(R))}),s=t(()=>W.value?n.topicsSpacing:1),y=t(()=>W.value?n.topicHeight:1),K=t(()=>{const u=n.topicHeight,i=n.topicSubgroup.topics.length*(y.value+s.value)-s.value,p=n.topicsMt+n.topicsMb+n.mt+n.mb;return u+i+p}),r=t(()=>({x:0,y:0,width:n.width,height:K.value})),T=t(()=>n.width-n.ml-n.mr),H=t(()=>T.value-n.topicsMl-n.topicsMr),L=_e(r,t(()=>n.anchor)),N=t(()=>new ue(t(()=>n.innerTransform),n.parentTransformation)),m=t(()=>new ue(L,N.value));function I(u){x.toggleSubgroupVisibility(n.topicSubgroup.prefix)}function P(u){u?x.setSelectedTopic(le(u),0):x.setSelectedTopic(void 0,300)}we(()=>{}),ge(()=>{te(q,()=>{h.value!=q.value.height&&(h.value=q.value.height)},{immediate:!0})});const q=t(()=>Ce(r.value,[L.value])),h=c(0);return o({bBox:q,height:h}),(u,i)=>{var p;return S(),G("g",{ref_key:"refRoot",ref:A},[_("g",{transform:(p=u.innerTransform)!=null?p:""},[_("g",{transform:f(L)},[_("rect",{x:r.value.x,y:r.value.y,width:r.value.width,height:r.value.height,class:"subgroup-bg"},null,8,_t),_("g",{ref_key:"refGContent",ref:O},[re(Ge,{onClick:I,ref_key:"refHeaderTopic",ref:v,topic:new De(u.topicSubgroup.prefix+"/...","Subgroup-Header","SUBGROUP"),"node-key":u.nodeKey,"topic-group":u.topicGroup.groupName,"topic-subgroup":u.topicSubgroup,width:T.value,anchor:"lefttop","inner-transform":`translate(${n.ml}, ${n.mt})`,height:n.topicHeight,"bg-rx":0,"bg-ry":0},null,8,["topic","node-key","topic-group","topic-subgroup","width","inner-transform","height"]),(S(!0),G(ae,{key:0},ie(u.topicSubgroup.topics,(l,k)=>(S(),G("g",{key:l.name},[re(Ge,{"node-key":u.nodeKey,"node-type":u.nodeType,topic:l,"topic-group":u.topicGroup.groupName,"topic-subgroup":u.topicSubgroup,prefix:u.topicSubgroup.prefix,"font-size":"90%",side:u.orientation,width:H.value,height:y.value,anchor:"lefttop","text-visible":W.value,"inner-transform":`translate(${n.ml+n.topicsMl}, ${n.mt+n.topicHeight+u.topicsMt+k*(s.value+y.value)})`,"parent-transformation":m.value,onMouseenter:M=>P(l),onMouseleave:i[0]||(i[0]=M=>P(void 0))},null,8,["node-key","node-type","topic","topic-group","topic-subgroup","prefix","side","width","height","text-visible","inner-transform","parent-transformation","onMouseenter"])]))),128))],512)],8,kt)],8,St),Ct],512)}}}),Gt=["transform"],Pt=["transform"],Bt=["x","y","width","height"],At={ref:"refHeaderRoot"},$t=_("circle",{cx:"0",cy:"0",r:"3",fill:"blue",opacity:"0"},null,-1),ze=pe({__name:"SvgRosTopicGroup",props:{nodeKey:{},nodeType:{default:"central"},topicType:{},orientation:{default:"right"},subgroupSpacing:{default:5},spacingHeaderSubgroups:{default:5},spacingSubgroupsBorder:{default:0},marginSubgroupsTop:{default:10},marginSubgroupsBot:{default:10},width:{default:240},bgFill:{default:"var(--q-detailed-node-bg)"},bgStroke:{default:"var(--q-detailed-node-stroke)"},bgFillOpacity:{default:.5},bgRx:{default:5},bgRy:{default:5},bgStrokeWidth:{default:1},mt:{default:5},mb:{default:5},ml:{default:5},mr:{default:5},contentAlign:{default:"center"},anchor:{default:"center"},innerTransform:{},parentTransformation:{}},emits:["updatedSize"],setup(E,{expose:o,emit:F}){const O=Ne(),v=c(null),A=c(null),x=c(null),n=E,W=t(()=>{var b;return(b=O.getNode(n.nodeKey))==null?void 0:b.topicGroups.get(n.topicType)}),s=t(()=>Array.from(W.value.subGroups.values()).sort((b,$)=>b.prefix.localeCompare($.prefix))),y=t(()=>W.value.subGroups.size==0),K=t(()=>n.width-n.spacingHeaderSubgroups-n.spacingSubgroupsBorder-N.value-n.ml-n.mr),r=c(100),T=t(()=>({x:0,y:0,width:n.width,height:H.value+n.mt+n.mb})),H=t(()=>y.value?N.value:m.value),L=_e(T,t(()=>n.anchor)),N=c(30),m=t(()=>y.value?n.width-n.ml-n.mr:r.value+n.marginSubgroupsBot+n.marginSubgroupsTop),I=t(()=>y.value?0:-90),P=t(()=>y.value||n.orientation=="right"?n.ml:K.value+n.ml+n.spacingHeaderSubgroups+n.spacingSubgroupsBorder),q=t(()=>y.value?"lefttop":"righttop"),h=t(()=>{const b=W.value.groupName;return y.value?"No "+b:b}),u=c(!0),i=t(()=>new ue(t(()=>n.innerTransform),n.parentTransformation)),p=t(()=>new ue(L,i.value));ge(()=>{te(w,()=>{z.value!=w.value.height&&(z.value=w.value.height)},{immediate:!0}),g(!0)});const l=c(new Map),k=c(new Map);function M(b,$){l.value.set($.prefix,b)}function R(b,$){k.value.set($.prefix,b)}const B=Ke(new Map);function U(b){return B.has(b.prefix)||B.set(b.prefix,c("")),B.get(b.prefix)}function X(){let b=n.mt+n.marginSubgroupsTop;l.value.forEach(($,e)=>{var C;const a=k.value.get(e),d=(C=a==null?void 0:a.height)!=null?C:0;if($){let Q="";if(n.orientation=="right"?Q=`translate(${n.ml+N.value+n.spacingHeaderSubgroups}, ${b})`:n.orientation=="left"&&(Q=`translate(${n.ml+n.spacingSubgroupsBorder}, ${b})`),B.has(e))B.set(e,c(Q));else{const Y=B.get(e);Y&&(Y.value=Q)}b+=d+n.subgroupSpacing}})}te(()=>n.orientation,()=>{X()}),qe(()=>{var b;(b=j.value)==null||b.call(j),l.value=new Map,k.value=new Map});const j=Ue(null),V=c([]);we(()=>{g(!0)});function g(b=!1){var $;($=j.value)==null||$.call(j),j.value=te(()=>Array.from(k.value.values()).map(e=>e==null?void 0:e.height),()=>{if(Array.from(k.value.values()).map(d=>{var C;return(C=d==null?void 0:d.height)!=null?C:0}).every((d,C)=>d==V.value[C]))return;V.value=Array.from(k.value.values()).map(d=>{var C;return(C=d==null?void 0:d.height)!=null?C:0});const a=V.value.reduce((d,C)=>d+C,0)+n.subgroupSpacing*(V.value.length-1);r.value=a,X()},{immediate:b})}const w=t(()=>Ce(T.value,[L.value])),z=c(0);return o({bBox:w,height:z}),(b,$)=>{var e;return S(),G("g",{ref_key:"refRoot",ref:x},[_("g",{transform:(e=b.innerTransform)!=null?e:""},[_("g",{transform:f(L)},[_("rect",{x:T.value.x,y:T.value.y,width:T.value.width,height:T.value.height,class:"group-bg"},null,8,Bt),_("g",{ref_key:"refGContent",ref:v},[_("g",At,[re(Ge,{ref_key:"refHeaderTopic",ref:A,"inner-transform":`translate(${P.value}, ${b.mt}) rotate(${I.value})`,"content-orientation":"center",anchor:q.value,width:m.value,height:N.value,topic:new De(h.value,"Group-Header","NONE"),"bg-rx":1,"bg-ry":1,"topic-group":"HEADER",onUpdatedSize:$[0]||($[0]=()=>X())},null,8,["inner-transform","anchor","width","height","topic"])],512),(S(!0),G(ae,{key:0},ie(s.value,(a,d)=>(S(),G("g",{key:a.prefix,ref_for:!0,ref:C=>M(C,a)},[re(Tt,{"topic-subgroup":a,"node-key":b.nodeKey,"node-type":b.nodeType,"topic-group":W.value,anchor:"lefttop",width:K.value,"parent-transformation":p.value,orientation:b.orientation,"inner-transform":U(a).value,ref_for:!0,ref:C=>R(C,a),"font-size":"90%","text-visible":u.value},null,8,["topic-subgroup","node-key","node-type","topic-group","width","parent-transformation","orientation","inner-transform","text-visible"])]))),128))],512)],8,Pt)],8,Gt),$t],512)}}}),Ht=["transform"],Mt=["transform"],Rt=["x","y","width","height"],Wt=["transform"],Dt=["transform"],Lt=["transform"],Vt=_("circle",{cx:"0",cy:"0",r:"14",fill:"cyan",opacity:"0"},null,-1),zt=pe({__name:"SvgRosNode",props:{nodeKey:{},nodeType:{default:"central"},groupSpacing:{default:15},spacingNodeNameGroups:{default:10},horizontalGroupSpacing:{default:25},width:{default:600},bgFill:{default:"var(--q-detailed-node-bg)"},bgStroke:{default:"var(--q-detailed-node-stroke)"},bgFillOpacity:{default:.5},bgRx:{default:5},bgRy:{default:5},bgStrokeWidth:{default:1},mt:{default:5},mb:{default:5},ml:{default:5},mr:{default:5},contentAlign:{default:"center"},anchor:{default:"center"},innerTransform:{},parentTransformation:{},anchorMappingPrefix:{default:""}},emits:["updatedSize"],setup(E,{expose:o,emit:F}){const O=Ne(),v=c(null),A=c(null),x=E,n=c(250),W=c(40),s=t(()=>O.getNode(x.nodeKey)),y=t(()=>{var g,w;return[(g=s.value)==null?void 0:g.topicGroups.get("Publishers"),(w=s.value)==null?void 0:w.topicGroups.get("Clients")]}),K=t(()=>{var g,w;return[(g=s.value)==null?void 0:g.topicGroups.get("Subscribers"),(w=s.value)==null?void 0:w.topicGroups.get("Services")]}),r=t(()=>(x.width-x.horizontalGroupSpacing-x.ml-x.mr)/2),T=t(()=>({x:-x.width/2,y:0,width:x.width,height:U.value+x.mt+x.mb+W.value+x.spacingNodeNameGroups})),H=_e(T,t(()=>x.anchor)),L=t(()=>new ue(t(()=>x.innerTransform),x.parentTransformation)),N=t(()=>new ue(H,L.value)),m=c(new Map),I=c(new Map),P=c(new Map);function q(g,w){m.value.set(w.groupName,g)}function h(g,w){I.value.set(w.groupName,g)}function u(g,w){P.value.set(w.groupName,g)}const i=Ke(new Map);function p(g){return i.has(g.groupName)||i.set(g.groupName,c("")),i.get(g.groupName)}function l(g,w){if(typeof g!="string"&&(g=g.groupName),!i.has(g))i.set(g,c(w));else{const z=i.get(g);z&&z.value!=w&&(z.value=w)}}function k(){const g=x.mt+W.value+x.spacingNodeNameGroups;let w=g;m.value.forEach((z,b)=>{var d;const $=P.value.get(b),e=(d=$==null?void 0:$.height)!=null?d:0,a=x.horizontalGroupSpacing/2;if(z){let C=`translate(${a}, ${w})`;l(b,C),w+=e+x.groupSpacing}}),w=g,I.value.forEach((z,b)=>{var d;const $=P.value.get(b),e=(d=$==null?void 0:$.height)!=null?d:0,a=-x.horizontalGroupSpacing/2;if(z){let C=`translate(${a}, ${w})`;l(b,C),w+=e+x.groupSpacing}})}const M=Ue(null),R=c(0),B=c(0),U=c(300);function X(g=!1){var w;(w=M.value)==null||w.call(M),M.value=te(()=>Array.from(P.value.keys()).map(z=>{var b;return(b=P.value.get(z))==null?void 0:b.height}),()=>{[{groups:y,heightRef:B},{groups:K,heightRef:R}].forEach(({groups:b,heightRef:$})=>{const e=b.value.map(d=>{var C,Q;return(Q=(C=P.value.get(d.groupName))==null?void 0:C.height)!=null?Q:0}),a=e.reduce((d,C)=>d+C,0)+x.groupSpacing*(e.length-1);a!=$.value&&($.value=a)});let z=Math.max(R.value,B.value);z!=U.value&&(U.value=z),k()},{immediate:g})}ge(()=>{X(!0),te(j,()=>{V.value!=j.value.height&&(V.value=j.value.height)},{immediate:!0})}),qe(()=>{var g;(g=M.value)==null||g.call(M),m.value=new Map,I.value=new Map,P.value=new Map}),we(()=>{X(!0)});const j=t(()=>Ce(T.value,[H.value])),V=c(0);return o({bBox:j,height:V}),(g,w)=>{var z,b,$;return S(),G("g",{transform:(z=g.innerTransform)!=null?z:""},[_("g",{transform:f(H)},[_("rect",{x:T.value.x,y:T.value.y,width:T.value.width,height:T.value.height,class:"node-bg"},null,8,Rt),_("g",{ref_key:"refGContent",ref:v},[_("g",{ref:"refHeaderRoot",transform:`translate(0, ${g.mt})`},[re(Ge,{ref_key:"refHeaderTopic",ref:A,"content-orientation":"center",anchor:"middletop","node-key":x.nodeKey,width:n.value,height:W.value,"topic-group":"HEADER",topic:new De(($=(b=s.value)==null?void 0:b.name)!=null?$:"","Header","NONE"),"font-size":"110%","bg-rx":10,"bg-ry":10,mb:10,mt:10,ml:10,mr:10,"bg-fill":"cyan"},null,8,["node-key","width","height","topic"])],8,Wt),(S(),G("g",{key:0,transform:"translate(0, 0)"},[(S(!0),G(ae,null,ie(y.value,e=>(S(),G("g",{key:e.groupName,ref_for:!0,ref:a=>q(a,e)},[re(ze,{"node-key":g.nodeKey,"node-type":g.nodeType,"topic-type":e.groupName,anchor:"lefttop","parent-transformation":N.value,"inner-transform":p(e).value,width:r.value,orientation:"right","topic-subgroup":e,ref_for:!0,ref:a=>u(a,e)},null,8,["node-key","node-type","topic-type","parent-transformation","inner-transform","width","topic-subgroup"])]))),128))],8,Dt)),(S(),G("g",{key:1,transform:"translate(0, 0)"},[(S(!0),G(ae,null,ie(K.value,e=>(S(),G("g",{key:e.groupName+g.nodeKey,ref_for:!0,ref:a=>h(a,e)},[re(ze,{"node-key":g.nodeKey,"node-type":g.nodeType,"topic-type":e.groupName,anchor:"righttop","parent-transformation":N.value,"inner-transform":p(e).value,width:r.value,orientation:"left","topic-subgroup":e,ref_for:!0,ref:a=>u(a,e)},null,8,["node-key","node-type","topic-type","parent-transformation","inner-transform","width","topic-subgroup"])]))),128))],8,Lt))],512)],8,Mt),Vt],8,Ht)}}}),Et=["x","y","width","height"],Ft=["transform","textLength","text-anchor"],Ot=pe({__name:"RectNode",props:{node:{},anchorMappingPrefix:{default:""},anchorKey:{},type:{default:"central"},cx:{default:0},cy:{default:0},width:{default:0},height:{default:0},styleClass:{default:""},transformation:{}},setup(E,{expose:o}){const F=Me(),O=c(null),v=E,A=c(2);c(v.cx),c(v.cy);const x=t(()=>v.cx-v.width/2),n=t(()=>v.cy-v.height/2),W=t(()=>v.node.node.name),s=t(()=>"middle"),y=c(0);function K(){Pe(()=>{const p=O.value;if(!p)return;p.getComputedTextLength()>v.width-2*A.value?y.value=v.width-2*A.value:y.value=0})}const r=t(()=>{var p;return(p=v.anchorKey)!=null?p:v.node.key});t(()=>({x:v.cx,y:v.cy}));const T=t(()=>({x:v.cx-v.width/2,y:v.cy})),H=t(()=>({x:v.cx+v.width/2,y:v.cy})),L=p=>t(()=>({x:T.value.x-1,y:T.value.y})),N=p=>t(()=>({x:H.value.x+1,y:H.value.y})),m=t(()=>v.type==="predecessor"?H.value:T.value),P=ke({local:m,transformation:void 0,anchorSelection:void 0,directionSelection:p=>v.type==="predecessor"?N():L()}),q=ke({local:T,transformation:void 0,anchorSelection:void 0,directionSelection:L}),h=ke({local:H,transformation:void 0,anchorSelection:void 0,directionSelection:N});function u(){F.updateNodeAnchor(r.value,P,v.anchorMappingPrefix),F.updateNodeAnchor(r.value+"/left",q,v.anchorMappingPrefix),F.updateNodeAnchor(r.value+"/right",h,v.anchorMappingPrefix)}function i(){F.removeNodeAnchor(r.value,v.anchorMappingPrefix),F.removeNodeAnchor(r.value+"/left",v.anchorMappingPrefix),F.removeNodeAnchor(r.value+"/right",v.anchorMappingPrefix)}return ge(()=>{u(),te([()=>v.width,()=>v.height,()=>W.value],()=>{y.value=0,K()},{immediate:!0})}),we(()=>{u()}),Ie(()=>{i()}),o({objectAnchor:P,leftObjectAnchor:q,rightObjectAnchor:h}),(p,l)=>(S(),G("g",null,[_("rect",{x:x.value,y:n.value,width:p.width,height:p.height,class:Re(p.styleClass)},null,10,Et),_("text",{ref_key:"refText",ref:O,transform:`translate(${p.cx}, ${p.cy})`,textLength:y.value>0?y.value:void 0,lengthAdjust:"spacingAndGlyphs",x:0,y:0,fill:"var(--q-node-stroke)","alignment-baseline":"middle","text-anchor":s.value},We(W.value),9,Ft)]))}}),It=E=>(lt("data-v-49bf3998"),E=E(),ut(),E),Kt=["x","y","width","height"],qt=["r"],Ut={key:0},jt={key:1},Qt=["onClick","onDblclick","onMouseenter"],Yt=It(()=>_("circle",{r:"10",stroke:"red","stroke-width":"0.2",fill:"none",opacity:"0"},null,-1)),Xt=pe({__name:"FlowView",props:{name:{default:"FlowView"},nodes:{},selectedNode:{},hoveredNode:{},secondaryNode:{},selectedTopic:{},graphSorting:{default:"flow"},markerWidth:{default:5},markerHeight:{default:5},strokeWidthPubSub:{default:1.5},strokeWidthService:{default:1.5},strokeWidthNode:{default:1},outerRadius:{default:300},maxInnerRadiusFactor:{default:.8},minInnerRadiusFactor:{default:.1},maxOuterRadiusFactor:{default:1.9},minOuterRadiusFactor:{default:1.2},circleGap:{default:0},connectedGapFactor:{default:1.5},startAngleOffset:{default:-90},centralNodeWidth:{default:600},sideNodeWidth:{default:130},sideNodeHeight:{default:30},nodesVerticalGap:{default:30},nodesHorizontalGap:{default:50},centralNodeHorizontalGap:{default:100},showPubSubConnections:{type:Boolean,default:!0},showBroadcastConnections:{type:Boolean,default:!1},showServiceClientConnections:{type:Boolean,default:!0}},emits:["selectedNode","selectedSecondaryNode","hoveredNode"],setup(E,{expose:o,emit:F}){rt(e=>({"7b2ddce2":r.strokeWidthPubSub,"0f0f7ca9":r.strokeWidthService,"511e46e4":r.strokeWidthNode}));const O=Me(),v=Ne(),A=F;function x(e){e!==null&&A("selectedNode",e.node.key)}function n(e){e!==null&&A("selectedSecondaryNode",e.node.key)}const W=c(null),s=c(void 0),y=st(()=>{s.value||A("hoveredNode",null)},300);function K(e,a){e!==void 0&&A("hoveredNode",e.node.key),W.value=a,s.value=e,y()}const r=E,T=t(()=>"marker-"+r.name),H=c(0),L=c(null),N=c(null);function m(){if(L.value){const e=L.value.getBBox();(N.value===null||e.x!==N.value.x||e.y!==N.value.y||e.width!==N.value.width||e.height!==N.value.height)&&(N.value=e)}}function I(e){var d;const a=typeof e=="string"?e:e.node.key;return(d=j.value.get(a))!=null?d:c({x:0,y:0})}const P=t(()=>new Fe(r.nodes)),q=t(()=>P.value.nodes.map(e=>new He(e,P.value))),h=t(()=>new Oe(q.value)),u=t(()=>h.value.getConnectionComponents(r.graphSorting,r.showPubSubConnections,r.showServiceClientConnections,r.showBroadcastConnections));t(()=>q.value.length),t(()=>u.value.length);const i=t(()=>{if(r.selectedNode!==void 0)return h.value.getGraphNode(r.selectedNode)}),p=t(()=>i.value===void 0?[]:h.value.getSuccessorNodes(i.value,r.showPubSubConnections,r.showServiceClientConnections,r.showBroadcastConnections)),l=t(()=>i.value===void 0?[]:h.value.getPredecessorNodes(i.value,r.showPubSubConnections,r.showServiceClientConnections,r.showBroadcastConnections));function k(e,a){let d="";return e instanceof He?d=e.node.key:e instanceof it&&(d=e.key),a+d}const M=t(()=>{if(i.value===void 0)return[];const e=[];return e.push(...l.value.map(a=>({key:k(a,"predecessor"),node:a,type:"predecessor"})).filter(a=>a.node.key!==i.value.node.key)),e.push(...p.value.map(a=>({key:k(a,"successor"),node:a,type:"successor"})).filter(a=>a.node.key!==i.value.node.key)),console.log("New displayed nodes"),e}),R=t(()=>{if(i.value===void 0)return[];const e=p.value.filter(a=>a.node.key!==i.value.node.key);return h.value.getTopologicalGenerations(void 0,r.showPubSubConnections,r.showServiceClientConnections,r.showBroadcastConnections,e)}),B=t(()=>{if(i.value===void 0)return[];const e=l.value.filter(d=>d.node.key!==i.value.node.key);return h.value.getTopologicalGenerations(void 0,r.showPubSubConnections,r.showServiceClientConnections,r.showBroadcastConnections,e).reverse()}),U=t(()=>r.selectedNode===void 0?[]:h.value.getConnectedComponent(i.value,!0,!0,!0));t(()=>r.selectedNode===void 0?new Set:new Set(U.value.map(e=>e.node.key)));const X=t(()=>i.value===void 0?[]:h.value.getTopologicalGenerations(i.value,!0));t(()=>i.value===void 0?0:X.value.findIndex(e=>e.nodes.includes(i.value)));const j=c(new Map);te([B,R],()=>{const e=new Map,a=[{gens:B.value,side:"left",type:"predecessor"},{gens:R.value,side:"right",type:"successor"}];let d=0;const C=new Map;a.forEach(Y=>{Y.gens.forEach((ce,se)=>{ce.nodes.forEach((ee,J)=>{const D=ee.node.key;C.has(D)||(C.set(D,d),d+=r.nodesVerticalGap+r.sideNodeHeight)})})});const Q=-(d-r.nodesVerticalGap-r.sideNodeHeight)/2;a.forEach(Y=>{const Z=Y.gens,se=Y.side==="left"?-1:1;Z.length;for(let ee=0;ee<Z.length;ee++){const J=Z[ee];for(let D=0;D<J.nodes.length;D++){const me=J.nodes[D],ne=k(me,Y.type),he=(r.centralNodeWidth/2+r.sideNodeWidth/2+r.centralNodeHorizontalGap+(ee+0)*(r.nodesHorizontalGap+r.sideNodeWidth))*se,ye=Q+C.get(me.node.key);e.set(ne,t(()=>({x:he,y:ye})))}}}),j.value=e},{immediate:!0});const V=c([]);te(H,()=>{const e=[];[{gens:B.value,side:"left",type:"predecessor"},{gens:R.value,side:"right",type:"successor"}].forEach(d=>{d.gens.forEach((Q,Y)=>{Q.nodes.forEach((Z,ce)=>{const se=k(Z,d.type),ee=O.getNodeAnchor(se,r.name).getAnchor(w),J=d.type==="predecessor"?Z:i.value,D=d.type==="predecessor"?i.value:Z;h.value.getLinksBetweenNodes(J,D,r.showPubSubConnections,r.showServiceClientConnections,r.showBroadcastConnections).forEach(ne=>{const Te=ne.data.topic,he=t(()=>{const ye={x:ee.x+0,y:ee.y+0},be={x:ee.getDirectionPoint(r.nodesHorizontalGap).value.x,y:ee.getDirectionPoint(r.nodesHorizontalGap).value.y},xe=O.getTopicAnchor(i.value.node.key,Te,"",d.side).getAnchor(ye),Be={x:xe.x,y:xe.y},Ae={x:xe.getDirectionPoint(r.centralNodeHorizontalGap/2).value.x,y:xe.getDirectionPoint(r.centralNodeHorizontalGap/2).value.y},Se=[];return Se.push(le(ye),le(be),le(Ae),le(Be)),{points:d.type==="predecessor"?Se:Se.reverse(),startNode:i.value.node,endNode:Z.node,side:d.type,topic:Te,type:ne.data.type}});e.push(he)})})})}),V.value=e});const g=c([]);te([()=>i.value,O.anchors],()=>{const e=[];[{gens:B.value,side:"left",type:"predecessor"},{gens:R.value,side:"right",type:"successor"}].forEach(d=>{const C=d.gens,Q=d.type==="predecessor"?C.slice().reverse():C;Q.forEach((Y,Z)=>{const se=Q.slice(Z+1).flatMap(J=>J.nodes),ee=new Set(se.map(J=>J.node));Y.nodes.forEach((J,D)=>{const me=k(J,d.type)+"/right",ne=O.getNodeAnchor(me,r.name).getAnchor(w);J.successorNodes.forEach(he=>{if(!ee.has(he))return;const ye=k(he,d.type)+"/left",be=O.getNodeAnchor(ye,r.name).getAnchor(w),xe=t(()=>{const Be={x:ne.x+0,y:ne.y+0},Ae={x:ne.getDirectionPoint(r.nodesHorizontalGap/2).value.x,y:ne.getDirectionPoint(r.nodesHorizontalGap/2).value.y},Se={x:be.x,y:be.y},Le={x:be.getDirectionPoint(r.nodesHorizontalGap/2).value.x,y:be.getDirectionPoint(r.nodesHorizontalGap/2).value.y},Ve=[];return Ve.push(le(Be),le(Ae),le(Le),le(Se)),{points:Ve,startNode:J.node,endNode:he,side:d.type,type:"Node"}});e.push(xe)}),d.type==="predecessor"||i.value,d.type==="predecessor"&&i.value})})}),g.value=e});const w=c({x:0,y:0});ge(()=>{te([()=>i.value,O.anchors,M],()=>{H.value++},{immediate:!0}),te([()=>v.selectedNode,()=>v.selectedSecondaryNode],()=>{H.value++,z()}),Ze(L.value).on("mousemove",e=>{const a=Je(e);w.value={x:a[0],y:a[1]}}),z()});const z=at(()=>{Pe(()=>{m()})},100);we(()=>{z()});function b(e){var d,C,Q;const a=["node"];if(e.node.key==r.selectedNode)a.push("node-selected");else if(e.node.key==r.hoveredNode||e.node.key==r.secondaryNode)a.push("node-hovered");else if(P.value.nodeMap.has((d=r.hoveredNode)!=null?d:"")){const Y=e.predecessorNodes,Z=e.successorNodes;new Set((C=Y==null?void 0:Y.concat(Z!=null?Z:[]).map(se=>se.key))!=null?C:[]).has((Q=r.hoveredNode)!=null?Q:"")&&a.push("node-hovered-adjacent")}return a.join(" ")}function $(e){const a=["line"];e.type==="PubSub"?a.push("line-pubsub"):e.type==="Service"?a.push("line-service"):e.type==="Node"&&a.push("line-node"),r.hoveredNode===e.startNode.key||r.hoveredNode===e.endNode.key?a.push("line-selected"):r.hoveredNode&&a.push("line-smaller");const d=v.isSelectedTopic(e.topic,null);return d!==null&&(d?a.push("line-selected"):a.push("line-smaller")),a.join(" ")}return o({bBox:N}),(e,a)=>{var d,C,Q,Y,Z,ce,se,ee,J;return S(),G(ae,null,[_("rect",{x:(C=(d=N.value)==null?void 0:d.x)!=null?C:0,y:(Y=(Q=N.value)==null?void 0:Q.y)!=null?Y:0,width:(ce=(Z=N.value)==null?void 0:Z.width)!=null?ce:0,height:(ee=(se=N.value)==null?void 0:se.height)!=null?ee:0,fill:"white",stroke:"white","stroke-width":"1",opacity:"0"},null,8,Kt),_("g",{ref_key:"refGRoot",ref:L},[re(Ee,{"marker-type":"arrow","marker-name":T.value,align:"end",height:e.markerHeight,width:e.markerWidth,"marker-units":"strokeWidth",class:"marker","offset-x":0},null,8,["marker-name","height","width"]),_("circle",{x:"0",y:"0",fill:"white",opacity:"0.00",r:e.outerRadius*1},null,8,qt),re(zt,{"node-key":(J=e.selectedNode)!=null?J:"",width:e.centralNodeWidth},null,8,["node-key","width"]),(S(),G("g",Ut,[(S(!0),G(ae,null,ie(g.value,D=>(S(),ve($e,{points:D.value.points,"curve-style":"basis","marker-end":T.value,"marker-length":e.markerWidth,"style-class":$(D.value)},null,8,["points","marker-end","marker-length","style-class"]))),256))])),(S(),G("g",jt,[(S(!0),G(ae,null,ie(V.value,D=>(S(),ve($e,{points:D.value.points,"curve-style":"basis","marker-end":T.value,"marker-length":e.markerWidth,"style-class":$(D.value)},null,8,["points","marker-end","marker-length","style-class"]))),256))])),(S(!0),G(ae,null,ie(M.value,(D,me)=>(S(),G("g",{onClick:ne=>n(D.node),onDblclick:ne=>x(D.node),key:D.key,onMouseenter:ne=>K(D,D.type),onMouseleave:a[0]||(a[0]=ne=>K(void 0))},[re(Ot,{node:D.node,cx:I(D.key).value.x,cy:I(D.key).value.y,width:e.sideNodeWidth,height:e.sideNodeHeight,"anchor-key":D.key,"anchor-mapping-prefix":e.name,type:D.type,"style-class":b(D.node),angle:0,"adaptive-radius":!1},null,8,["node","cx","cy","width","height","anchor-key","anchor-mapping-prefix","type","style-class"])],40,Qt))),128)),Yt],512)],64)}}});const Zt=je(Xt,[["__scopeId","data-v-49bf3998"]]),Jt={key:0,class:"q-my-sm",style:{"min-width":"10px","min-height":"10px"}},eo=["width","height","viewBox"],to={style:{position:"absolute",bottom:"0",left:"0",padding:"10px"}},oo={key:0,style:{display:"flex","align-items":"center","margin-bottom":"5px"}},no=_("div",{style:{width:"20px",height:"20px","background-color":"var(--q-stroke-pubsub)","margin-right":"10px"}},null,-1),ro=_("span",null,"Pub / Sub connection",-1),so=[no,ro],ao={key:1,style:{display:"flex","align-items":"center","margin-bottom":"5px"}},io=_("div",{style:{width:"20px",height:"20px","background-color":"var(--q-stroke-service)","margin-right":"10px"}},null,-1),lo=_("span",null,"Service connection",-1),uo=[io,lo],co={key:2,style:{display:"flex","align-items":"center","margin-bottom":"5px"}},po=_("div",{style:{width:"20px",height:"20px","background-color":"var(--q-stroke-broadcast)","margin-right":"10px"}},null,-1),ho=_("span",null,"Broadcast connection",-1),fo=[po,ho],So=pe({__name:"MainPage",setup(E){const o=Ne(),F=c(null),O=c(null),v=et(O,void 0,()=>{A.value==="CV"?o.selectedNode=null:A.value}),A=c("CV"),x=c(null),n=c(null),W=c(null);te([()=>A.value],()=>{v.resetZoom(0)},{immediate:!0});const s=t(()=>{var N,m,I;return A.value==="DAG"?(N=x.value)==null?void 0:N.bBox:A.value==="CV"?(m=n.value)==null?void 0:m.bBox:A.value==="FLOW"?(I=W.value)==null?void 0:I.bBox:null}),y=tt(()=>s.value,30,.5,20,!0),K=c(-90);function r(N){o.selectedNode=o.getNode(N),o.hoveredNode=null,A.value="FLOW"}const T=c(0),H=c(0);ct(F,()=>{var N,m,I,P;T.value=(m=(N=F.value)==null?void 0:N.offsetWidth)!=null?m:10,H.value=(P=(I=F.value)==null?void 0:I.offsetHeight)!=null?P:10});function L(N){var m;o.selectedNode=((m=o.selectedNode)==null?void 0:m.key)!=N?o.getNode(N):null,o.hoveredNode=null,o.selectedSecondaryNode=null,o.visibleSubgroups.clear()}return(N,m)=>(S(),ve(ot,{class:"column items-center justify-start"},{default:dt(()=>{var I,P,q,h,u,i,p;return[A.value=="FLOW"?(S(),G("div",Jt,[re(Xe,{rounded:"",outline:"",onClick:m[0]||(m[0]=l=>A.value="CV"),label:"Back to Circular View",color:"accent"})])):de("",!0),_("div",{ref_key:"refDivSvgParent",ref:F,style:{width:"100%",height:"100%",flex:"1"}},[(S(),G("svg",{key:0,ref_key:"refMainSvg",ref:O,width:T.value-2,height:H.value-10,viewBox:f(y)},[_("g",{ref:f(v).ref},[A.value=="CV"?(S(),ve(nt,{key:0,ref_key:"refCV",ref:n,nodes:f(o).nodes,"graph-sorting":f(o).nodeSorting,"start-angle-offset":K.value,selectedNode:(I=f(o).selectedNode)==null?void 0:I.key,"hovered-node":(P=f(o).hoveredNode)==null?void 0:P.key,onDblclickedNode:m[1]||(m[1]=l=>r(l)),"outer-radius":50+f(o).nodes.length*15,onSelectedNode:m[2]||(m[2]=l=>L(l)),onHoveredNode:m[3]||(m[3]=l=>f(o).hoveredNode=l?f(o).getNode(l):null),"show-broadcast-connections":f(o).showBroadcastConnections,"show-pub-sub-connections":f(o).showPubSubConnections,"show-service-client-connections":f(o).showServiceClientConnections,"use-service-connections":f(o).componentsUseServiceClientConnections,"use-pub-sub-connections":f(o).componentsUsePubSubConnections,"use-broadcast-connections":f(o).componentsUseBroadcastConnections},null,8,["nodes","graph-sorting","start-angle-offset","selectedNode","hovered-node","outer-radius","show-broadcast-connections","show-pub-sub-connections","show-service-client-connections","use-service-connections","use-pub-sub-connections","use-broadcast-connections"])):de("",!0),A.value=="DAG"?(S(),ve(gt,{key:1,ref_key:"refDAG",ref:x,nodes:f(o).nodes,"graph-sorting":f(o).nodeSorting,"start-angle-offset":K.value,selectedNode:(q=f(o).selectedNode)==null?void 0:q.key,"hovered-node":(h=f(o).hoveredNode)==null?void 0:h.key,onDblclickedNode:m[4]||(m[4]=l=>r(l)),onSelectedNode:m[5]||(m[5]=l=>{var k;return f(o).selectedNode=((k=f(o).selectedNode)==null?void 0:k.key)!=l?f(o).getNode(l):null}),onHoveredNode:m[6]||(m[6]=l=>f(o).hoveredNode=l?f(o).getNode(l):null),"show-broadcast-connections":f(o).showBroadcastConnections,"show-pub-sub-connections":f(o).showPubSubConnections,"show-service-client-connections":f(o).showServiceClientConnections,"use-service-connections":f(o).componentsUseServiceClientConnections,"use-pub-sub-connections":f(o).componentsUsePubSubConnections,"use-broadcast-connections":f(o).componentsUseBroadcastConnections},null,8,["nodes","graph-sorting","start-angle-offset","selectedNode","hovered-node","show-broadcast-connections","show-pub-sub-connections","show-service-client-connections","use-service-connections","use-pub-sub-connections","use-broadcast-connections"])):de("",!0),A.value=="FLOW"?(S(),ve(Zt,{key:2,ref_key:"refFlow",ref:W,nodes:f(o).nodes,"graph-sorting":f(o).nodeSorting,"start-angle-offset":K.value,selectedNode:(u=f(o).selectedNode)==null?void 0:u.key,"hovered-node":(i=f(o).hoveredNode)==null?void 0:i.key,"secondary-node":(p=f(o).selectedSecondaryNode)==null?void 0:p.key,"selected-topic":f(o).selectedTopic,onSelectedNode:m[7]||(m[7]=l=>L(l)),onSelectedSecondaryNode:m[8]||(m[8]=l=>{var k;return f(o).selectedSecondaryNode=((k=f(o).selectedSecondaryNode)==null?void 0:k.key)!=l?f(o).getNode(l):null}),"show-broadcast-connections":f(o).showBroadcastConnections,"show-pub-sub-connections":f(o).showPubSubConnections,"show-service-client-connections":f(o).showServiceClientConnections,onHoveredNode:m[9]||(m[9]=l=>f(o).hoveredNode=l?f(o).getNode(l):null)},null,8,["nodes","graph-sorting","start-angle-offset","selectedNode","hovered-node","secondary-node","selected-topic","show-broadcast-connections","show-pub-sub-connections","show-service-client-connections"])):de("",!0)],512)],8,eo))],512),_("div",to,[f(o).showPubSubConnections?(S(),G("div",oo,so)):de("",!0),f(o).showServiceClientConnections?(S(),G("div",ao,uo)):de("",!0),f(o).showBroadcastConnections?(S(),G("div",co,fo)):de("",!0)])]}),_:1}))}});export{So as default};
